<div class="alert alert-success" role="alert">
  <strong>Управление связями</strong>
</div>
<div class="container-fluid row">
  <div class="card col-lg-4 col-md-4 col-sm-4">
    <div class="card-header card-info row">
        КПП
    </div>
    <div class="card-block">
      <!-- кпп -->
      <div ng-repeat="gearbox in $ctrl.gearbox" class="with-border">
        <p class="vendor-paragraph">
          <button ng-click="openVendor = !openVendor" class="btn-xs btn-small btn-primary btn-margin">
            <i ng-if="!openVendor">+</i>
            <i ng-if="openVendor">-</i>
          </button>
          <span>{{gearbox.name}}</span>
        </p>
        <!-- марки авто -->
        <div ng-if="openVendor">
          <div ng-repeat="manufacturer in gearbox.gearboxManufacturers" class="with-border inner-block">
            <p class="vendor-paragraph">
              <button ng-click="openYears = !openYears" class="btn-xs btn-warning btn-margin" >
                <i ng-if="!openYears">+</i>
                <i ng-if="openYears">-</i>
              </button>
              <span>{{manufacturer.name}}</span>
            </p>
            <!-- модели авто -->
            <div ng-if="openYears" class="">
              <p class="vendor-paragraph" ng-repeat="model in manufacturer.gearboxModels"><span class="badge badge-warning">{{model.name}}</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="card col-lg-4 col-md-4 col-sm-4">
    <div class="card-header card-info row">
        Связь
    </div>
    <div class="card-block">
      <h4 class="card-title">Special title treatment</h4>
      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
      <a href="#" class="btn btn-primary">Go somewhere</a>
    </div>
  </div>
  <div class="card col-lg-4 col-md-4 col-sm-4">
    <div class="card-header card-info row">
        Авто
    </div>
    <div class="card-block">
      <!-- марки -->
      <div ng-repeat="car in $ctrl.cars" class="with-border">
        <p class="vendor-paragraph">
          <button ng-click="openVendor = !openVendor" class="btn-xs btn-small btn-primary btn-margin">
            <i ng-if="!openVendor">+</i>
            <i ng-if="openVendor">-</i>
          </button>
          <span>{{car.name}}</span>
        </p>
        <!-- модели -->
        <div ng-if="openVendor">
          <div ng-repeat="model in car.carModel" class="with-border inner-block">
            <p class="vendor-paragraph">
              <button ng-click="openYears = !openYears" class="btn-xs btn-warning btn-margin" >
                <i ng-if="!openYears">+</i>
                <i ng-if="openYears">-</i>
              </button>
              <span>{{model.name}}</span>
            </p>
            <!-- годы -->
            <div ng-if="openYears" class="">
              <p class="vendor-paragraph" ng-repeat="year in model.carModification"><span class="badge badge-warning">{{year.name}}</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
